@prefix ns1: <dc> .
@prefix ns2: <dim> .
@prefix ns3: <crm> .
@prefix ns4: <skos> .
@prefix ns5: <rdf> .
@prefix ns6: <qudt> .
@prefix ns7: <foaf> .
@prefix ns8: <cc> .
@prefix ns9: <vs> .
@prefix ns10: <owl> .
@prefix ns11: <quantity> .
@prefix ns12: <unit> .
@prefix ns13: <dct> .
@prefix ns14: <oecc> .
@prefix ns15: <xsd> .
@prefix ns16: <saam-ont> .
@prefix ns17: <rdfs> .
@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix km-dev: <http://isi.edu/integration/karma/dev#> .

_:node18i803dvnx1 a km-dev:R2RMLMapping ;
	km-dev:sourceName "cbev2.ObjCurLocView.csv" ;
	km-dev:modelPublicationTime "1393985435640"^^<http://www.w3.org/2001/XMLSchema#long> ;
	km-dev:modelVersion "1.0" ;
	km-dev:hasWorksheetHistory "[{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"Object_URI\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"return \\\"http://collection.americanart.si.edu/id/object/\\\"+getValue(\\\"ComponentNumber\\\")\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"ComponentNumber\"}],\"type\":\"hNodeId\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SubmitPythonTransformationCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"value\":\"isUriOfClass\",\"type\":\"other\"},{\"name\":\"metaPropertyValue\",\"value\":\"http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"ComponentNumber\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":false,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SetMetaPropertyCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"ComponentNumber\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"value\":[],\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":true,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"UnassignSemanticTypeCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"value\":\"isUriOfClass\",\"type\":\"other\"},{\"name\":\"metaPropertyValue\",\"value\":\"http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object1\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"Object_URI\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":false,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SetMetaPropertyCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"Location_URI\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"return \\\"http://collection.americanart.si.edu/id/object/\\\"+getValue(\\\"ComponentNumber\\\")+\\\"/location\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"Object_URI\"}],\"type\":\"hNodeId\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SubmitPythonTransformationCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"value\":\"isUriOfClass\",\"type\":\"other\"},{\"name\":\"metaPropertyValue\",\"value\":\"http://www.cidoc-crm.org/cidoc-crm/E53_Place1\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"Location_URI\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":false,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SetMetaPropertyCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"initialEdges\",\"value\":[{\"edgeId\":\"http://www.cidoc-crm.org/cidoc-crm/P54_has_current_permanent_location\",\"edgeLabel\":\"http://www.cidoc-crm.org/cidoc-crm/P54_has_current_permanent_location\",\"edgeSource\":\"E22_Man-Made_Object1\",\"direction\":\"outgoing\",\"edgeTarget\":\"E53_Place1\",\"edgeTargetId\":\"http://www.cidoc-crm.org/cidoc-crm/E53_Place1\",\"edgeSourceId\":\"http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object1\"}],\"type\":\"other\"},{\"name\":\"alignmentId\",\"value\":\"WSP3:WS1AL\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"newEdges\",\"value\":[{\"edgeId\":\"http://www.cidoc-crm.org/cidoc-crm/P55_has_current_location\",\"edgeTargetId\":\"http://www.cidoc-crm.org/cidoc-crm/E53_Place1\",\"edgeSourceId\":\"http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object1\"}],\"type\":\"other\"}],\"commandName\":\"ChangeInternalNodeLinksCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"CurSite\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"value\":[{\"isPrimary\":true,\"FullType\":\"http://www.w3.org/2000/01/rdf-schema#label\",\"Domain\":\"http://www.cidoc-crm.org/cidoc-crm/E53_Place1\"}],\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":false,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SetSemanticTypeCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"Description\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"return getValue(\\\"Description\\\")\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"CurSite\"}],\"type\":\"hNodeId\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SubmitPythonTransformationCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"Description\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"value\":[{\"isPrimary\":true,\"FullType\":\"http://www.cidoc-crm.org/cidoc-crm/P3_has_note\",\"Domain\":\"http://www.cidoc-crm.org/cidoc-crm/E53_Place1\"}],\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":false,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SetSemanticTypeCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"return \\\"object/\\\"+getValue(\\\"ComponentNumber\\\")\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"Object_URI\"}],\"type\":\"hNodeId\"},{\"name\":\"previousCommandId\",\"value\":\"C2835\",\"type\":\"other\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"targetHNodeId\",\"value\":[{\"columnName\":\"Object_URI\"}],\"type\":\"hNodeId\"}],\"commandName\":\"SubmitEditPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"return \\\"object/\\\"+getValue(\\\"ComponentNumber\\\")+\\\"/location\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"Location_URI\"}],\"type\":\"hNodeId\"},{\"name\":\"previousCommandId\",\"value\":\"C2942\",\"type\":\"other\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"targetHNodeId\",\"value\":[{\"columnName\":\"Location_URI\"}],\"type\":\"hNodeId\"}],\"commandName\":\"SubmitEditPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"return getValue(\\\"Object_URI\\\")+\\\"/location\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"Location_URI\"}],\"type\":\"hNodeId\"},{\"name\":\"previousCommandId\",\"value\":\"C3053\",\"type\":\"other\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"targetHNodeId\",\"value\":[{\"columnName\":\"Location_URI\"}],\"type\":\"hNodeId\"}],\"commandName\":\"SubmitEditPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"LocationLabel\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"site=\\\"\\\"\\nif getValue(\\\"CurSite\\\"):\\n    site=site+\\\"CurSite:\\\"+getValue(\\\"CurSite\\\")\\nif getValue(\\\"CurRoom\\\"):\\n    site=site+\\\", CurRoom:\\\"+getValue(\\\"CurRoom\\\")\\nreturn site\\n\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"CurSite\"}],\"type\":\"hNodeId\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SubmitPythonTransformationCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"LocationLabel\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"value\":[{\"FullType\":\"http://www.w3.org/2000/01/rdf-schema#label\",\"isPrimary\":true,\"Domain\":\"http://www.cidoc-crm.org/cidoc-crm/E53_Place1\"}],\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":false,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SetSemanticTypeCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"CurSite\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"value\":[],\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":true,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"UnassignSemanticTypeCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"if getValue(\\\"CurSite\\\") or getValue(\\\"CurRoom\\\"):\\n    return getValue(\\\"Object_URI\\\")+\\\"/location\\\"\\nelse:\\n    return \\\"\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"Location_URI\"}],\"type\":\"hNodeId\"},{\"name\":\"previousCommandId\",\"value\":\"C925\",\"type\":\"other\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"targetHNodeId\",\"value\":[{\"columnName\":\"Location_URI\"}],\"type\":\"hNodeId\"}],\"commandName\":\"SubmitEditPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"site=\\\"\\\"\\nif getValue(\\\"CurSite\\\"):\\n    site=\\\"CurSite:\\\"+getValue(\\\"CurSite\\\")\\n    if getValue(\\\"CurRoom\\\"):\\n        site=site+\\\", CurRoom:\\\"+getValue(\\\"CurRoom\\\")\\nelse:\\n    if getValue(\\\"CurRoom\\\"):\\n         site=\\\"CurRoom:\\\"+getValue(\\\"CurRoom\\\")\\nreturn site\\n\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"LocationLabel\"}],\"type\":\"hNodeId\"},{\"name\":\"previousCommandId\",\"value\":\"C930\",\"type\":\"other\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"targetHNodeId\",\"value\":[{\"columnName\":\"LocationLabel\"}],\"type\":\"hNodeId\"}],\"commandName\":\"SubmitEditPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"result=\\\"\\\"\\nif getValue(\\\"CurSite\\\"):\\n    result=getValue(\\\"Object_URI\\\")+\\\"/location\\\"\\nif getValue(\\\"CurRoom\\\"):\\n    result=getValue(\\\"Object_URI\\\")+\\\"/location\\\"\\nreturn result\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"Location_URI\"}],\"type\":\"hNodeId\"},{\"name\":\"previousCommandId\",\"value\":\"C1024\",\"type\":\"other\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"targetHNodeId\",\"value\":[{\"columnName\":\"Location_URI\"}],\"type\":\"hNodeId\"}],\"commandName\":\"SubmitEditPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"result=\\\"\\\"\\nif getValue(\\\"CurSite\\\") or getValue(\\\"CurRoom\\\"):\\n    result=getValue(\\\"Object_URI\\\")+\\\"/location\\\"\\nreturn result\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"Location_URI\"}],\"type\":\"hNodeId\"},{\"name\":\"previousCommandId\",\"value\":\"C1064\",\"type\":\"other\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"targetHNodeId\",\"value\":[{\"columnName\":\"Location_URI\"}],\"type\":\"hNodeId\"}],\"commandName\":\"SubmitEditPythonTransformationCommand\"}]" .

km-dev:TriplesMap_1 a rr:TriplesMap .

_:node18i803dvnx1 km-dev:hasTriplesMap km-dev:TriplesMap_1 .

_:node18i803dvnx2 rr:tableName "cbev2.ObjCurLocView.csv" .

km-dev:TriplesMap_1 rr:logicalTable _:node18i803dvnx2 ;
	rr:subjectMap _:node18i803dvnx3 .

_:node18i803dvnx3 km-dev:alignmentNodeId "http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object1" ;
	rr:class <http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object> ;
	rr:template "object/{ComponentNumber}" ;
	a km-dev:steinerTreeRootNode .

_:node18i803dvnx5 rr:predicate <http://www.cidoc-crm.org/cidoc-crm/P55_has_current_location> .

km-dev:RefObjectMap_1 a rr:RefObjectMap ;
	rr:parentTriplesMap km-dev:TriplesMap_2 .

_:node18i803dvnx5 rr:objectMap km-dev:RefObjectMap_1 .

km-dev:TriplesMap_1 rr:predicateObjectMap _:node18i803dvnx5 .

km-dev:TriplesMap_2 a rr:TriplesMap .

_:node18i803dvnx1 km-dev:hasTriplesMap km-dev:TriplesMap_2 .

_:node18i803dvnx6 rr:tableName "cbev2.ObjCurLocView.csv" .

km-dev:TriplesMap_2 rr:logicalTable _:node18i803dvnx6 ;
	rr:subjectMap _:node18i803dvnx7 .

_:node18i803dvnx7 km-dev:alignmentNodeId "http://www.cidoc-crm.org/cidoc-crm/E53_Place1" ;
	rr:class <http://www.cidoc-crm.org/cidoc-crm/E53_Place> ;
	rr:template "{Location_URI}" .

_:node18i803dvnx9 rr:predicate <http://www.cidoc-crm.org/cidoc-crm/P3_has_note> .

_:node18i803dvnx10 rr:column "Description" .

_:node18i803dvnx9 rr:objectMap _:node18i803dvnx10 .

km-dev:TriplesMap_2 rr:predicateObjectMap _:node18i803dvnx9 .

_:node18i803dvnx11 rr:predicate <http://www.w3.org/2000/01/rdf-schema#label> .

_:node18i803dvnx12 rr:column "LocationLabel" .

_:node18i803dvnx11 rr:objectMap _:node18i803dvnx12 .

km-dev:TriplesMap_2 rr:predicateObjectMap _:node18i803dvnx11 .
